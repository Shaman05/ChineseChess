<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>中国象棋 - Chinese Chess</title>
    <style type="text/css">
        .block{height: 30px; width: 30px; border: 2px solid #000000; float: left; margin: 0 20px 20px 0}
        #a1{background: green}
        #a2{background: red}
    </style>
</head>

<body>
    <div id="map">
        <div class="block" id="a1"></div>
        <div class="block" id="a2"></div>
    </div>
</body>
</html>
<script type="text/javascript" src="/javascripts/jquery.js"></script>
<script type="text/javascript" src="/socket.io/socket.io.js"></script>
<script type="text/javascript">
$(function(){
    var ws = io.connect();
    ws.on("connect", function(){
        console.log("connected!")

        $(".block").click(function(e){
            var id = $(e.target).attr("id");
            ws.send(id);
        })

        ws.on("message", function(id){
            $("#" + id).css("width","500px");
        })

        ws.on("disconnect", function(){
            console.log("disconnect!")
        })
    })
})
</script>