<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>中国象棋 - Chinese Chess</title>
    <style type="text/css">
        body{margin: 0; background: #d1bf9a}
        .map,.tipwrap{position: absolute; top: 50%; left: 50%}
        .map{width: 654px; height: 660px; margin: -330px 0 0 -327px;}
        .tipwrap{width: 200px; height:400px; margin: -200px 0 0 327px; box-shadow: 0 0 10px #000 inset}
        .tipbox{padding: 10px}
        .txt{height: 190px; padding:0 6px}
        .txt h3{margin: 0; font-size:16px}
    </style>
</head>

<body>
    <div class="map" id="map"></div>
    <div class="tipwrap">
        <div class="tipbox">
            <div id="balck" class="txt">
                <h3>黑方:</h3>
            </div>
            <div id="red" class="txt">
                <h3>红方:</h3>
            </div>
        </div>
    </div>
</body>
</html>
<script type="text/javascript" src="/javascripts/jquery.js"></script>
<script type="text/javascript" src="/javascripts/raphael-min.js"></script>
<script type="text/javascript" src="/socket.io/socket.io.js"></script>
<script type="text/javascript">
$(function(){
    var ws = io.connect();
    ws.on("connect", function(){
        console.log("connected!")

        $(".block").click(function(e){
            var id = $(e.target).attr("id");
            ws.send(id);
        })

        ws.on("message", function(id){
            $("#" + id).css("width","500px");
        })

        ws.on("disconnect", function(){
            console.log("disconnect!")
        })
    })

    var bzua = new Pieces("black", "zu", po.black.zua).create();
    var bzub = new Pieces("black", "zu", po.black.zub).create();
    var bzuc = new Pieces("black", "zu", po.black.zuc).create();
    var bzud = new Pieces("black", "zu", po.black.zud).create();
    var bzue = new Pieces("black", "zu", po.black.zue).create();
    var bpaol = new Pieces("black", "pao", po.black.paol).create();
    var bpaor = new Pieces("black", "pao", po.black.paor).create();
    var bchel = new Pieces("black", "che", po.black.chel).create();
    var bcher = new Pieces("black", "che", po.black.cher).create();
    var bmal = new Pieces("black", "ma", po.black.mal).create();
    var bmar = new Pieces("black", "ma", po.black.mar).create();
    var bxiangl = new Pieces("black", "xiang", po.black.xiangl).create();
    var bxiangr = new Pieces("black", "xiang", po.black.xiangr).create();
    var bshil = new Pieces("black", "shi", po.black.shil).create();
    var bshir = new Pieces("black", "shi", po.black.shir).create();
    var bjiang = new Pieces("black", "jiang", po.black.jiang).create();

    var rzua = new Pieces("red", "bing", po.red.binga).create();
    var rzub = new Pieces("red", "bing", po.red.bingb).create();
    var rzuc = new Pieces("red", "bing", po.red.bingc).create();
    var rzud = new Pieces("red", "bing", po.red.bingd).create();
    var rzue = new Pieces("red", "bing", po.red.binge).create();
    var rpaol = new Pieces("red", "pao", po.red.paol).create();
    var rpaor = new Pieces("red", "pao", po.red.paor).create();
    var rchel = new Pieces("red", "che", po.red.chel).create();
    var rcher = new Pieces("red", "che", po.red.cher).create();
    var rmal = new Pieces("red", "ma", po.red.mal).create();
    var rmar = new Pieces("red", "ma", po.red.mar).create();
    var rxiangl = new Pieces("red", "xiang", po.red.xiangl).create();
    var rxiangr = new Pieces("red", "xiang", po.red.xiangr).create();
    var rshil = new Pieces("red", "shi", po.red.shil).create();
    var rshir = new Pieces("red", "shi", po.red.shir).create();
    var rshuai = new Pieces("red", "shuai", po.red.shuai).create();

})
</script>